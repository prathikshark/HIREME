<%= render partial: "modal" %>
<h3> Skills </h3>
<% if_current_user_worker(current_user) do %>
   <button type="button" id="myInput" class="btn purple-btn" data-bs-toggle="modal" data-bs-target="#exampleModal">Add</button>
<% end %>

<div class="worker-container", id="all-skills-of-worker">
      <% for worker_skill in @worker.worker_skills%>
           <%= render partial: "worker_skills/each_worker_skill",locals:{worker_skill: worker_skill}%>
      <% end %>
</div>


<script>

  
$(document).ready(function () {
    $("#add-worker-skill-btn").on("click", function (event) {
      event.preventDefault();

      worker_skill = {worker_skill: {
          
          id: $('#worker_skill_id option:selected').val(),
          wage: $("#worker-skill-experience").val(),
          experience: $("#worker-skill-experience").val(),
     
      }};

      console.log(worker_skill);
      $.ajax({
        url: "http://localhost:3000/worker_skills",
        method: "POST",
        data: worker_skill,
        dataType: "html",
        success: function (result) {
          $("#all-skills-of-worker").append(result);
        },
      });
    });
  });
</script>